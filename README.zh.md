# Open Agent SDK

[![Build in Public](https://img.shields.io/badge/Build%20in%20Public-blue)](https://twitter.com/octane0411)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-blue)](https://www.typescriptlang.org/)

Claude Agent SDK çš„å¼€æºæ›¿ä»£å“ â€”â€” è½»é‡ã€å¯å®šåˆ¶ã€æ— ä¾›åº”å•†é”å®šã€‚

**ğŸ“š æ–‡æ¡£**
- [é¡¹ç›®ä»‹ç»](./docs/introduction.zh.md) - äº†è§£æ ¸å¿ƒæ¦‚å¿µå’Œæ¶æ„
- [API å‚è€ƒ](./docs/api-reference.zh.md) - å®Œæ•´çš„ API æ–‡æ¡£
- [English Documentation](./README.md) - English README

---

## è¿™æ˜¯ä»€ä¹ˆï¼Ÿ

Open Agent SDK æ˜¯ä¸€ä¸ªç”¨äºæ„å»º AI Agent çš„ TypeScript æ¡†æ¶ã€‚å®ƒæä¾›äº†ä¸ Claude Agent SDK ç±»ä¼¼çš„å¼€å‘ä½“éªŒï¼Œä½†å®Œå…¨å¼€æºé€æ˜ï¼Œæ²¡æœ‰ä¾›åº”å•†é”å®šã€‚

## ä¸ºä»€ä¹ˆé€‰æ‹©å®ƒï¼Ÿ

### ğŸ¯ ä¸ Claude Agent SDK API å¯¹é½
å¯ç›´æ¥æ›¿æ¢ä½¿ç”¨ï¼ŒåŠŸèƒ½å®Œå…¨å¯¹é½â€”â€”ç›¸åŒçš„ Agent å¾ªç¯ã€å·¥å…·ã€ä¼šè¯ã€æƒé™å’Œ Hooksã€‚ç°æœ‰ç”¨æˆ·é›¶æˆæœ¬è¿ç§»ã€‚

### ğŸ”“ å¼€æºä¸”æ˜“äºæ‰©å±•
MIT è®¸å¯è¯å®Œæ•´æºç ã€‚è½»æ¾é€šè¿‡è‡ªå®šä¹‰å·¥å…·ã€Provider å’Œ Hook è¿›è¡Œå®šåˆ¶å’Œæ‰©å±•ã€‚

### ğŸš€ ä¸ä¾èµ– Claude Code
çº¯ TypeScript å®ç°ï¼Œç‹¬ç«‹è¿è¡Œã€‚æ— éœ€å®‰è£…æˆ–è¿è¡Œ Claude Code â€”â€” å¯ç›´æ¥å¯¹æ¥ä»»ä½• LLM ä¾›åº”å•†ä½¿ç”¨ã€‚

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- **Agent å¾ªç¯** â€”â€” è§‚å¯Ÿ-æ€è€ƒ-è¡ŒåŠ¨çš„è‡ªä¸» Agent å¾ªç¯
- **å†…ç½®å·¥å…·** â€”â€” æ–‡ä»¶æ“ä½œï¼ˆè¯»/å†™/ç¼–è¾‘ï¼‰ã€Shell æ‰§è¡Œã€ä»£ç æœç´¢ï¼ˆGlob/Grepï¼‰ã€ç½‘é¡µæœç´¢
- **æµå¼æ”¯æŒ** â€”â€” å®æ—¶å“åº”æµå’Œ Token ä½¿ç”¨é‡è¿½è¸ª
- **å¤šä¾›åº”å•†** â€”â€” æ”¯æŒ OpenAIã€Google Gemini å’Œ Anthropic
- **ä¾›åº”å•†å¯æ‰©å±•** â€”â€” é€šè¿‡ç®€å•æ¥å£æ·»åŠ è‡ªå®šä¹‰ Provider
- **ä¼šè¯ç®¡ç†** â€”â€” æ”¯æŒå†…å­˜å’Œæ–‡ä»¶å­˜å‚¨çš„æŒä¹…åŒ–å¯¹è¯
- **æƒé™ç³»ç»Ÿ** â€”â€” 4 ç§æƒé™æ¨¡å¼ï¼ˆdefault/acceptEdits/bypassPermissions/planï¼‰
- **Hooks æ¡†æ¶** â€”â€” äº‹ä»¶é©±åŠ¨çš„å¯æ‰©å±•æ€§ï¼ˆ10 ä¸ªé’©å­äº‹ä»¶ï¼‰
- **å­ Agent ç³»ç»Ÿ** â€”â€” å°†ä»»åŠ¡å§”æ‰˜ç»™ä¸“é—¨çš„ Agent
- **ç±»å‹å®‰å…¨** â€”â€” å®Œæ•´çš„ TypeScript æ”¯æŒï¼Œä¸¥æ ¼çš„ç±»å‹çº¦æŸ
- **å–æ¶ˆæ”¯æŒ** â€”â€” é€šè¿‡ AbortController ä¸­æ–­é•¿æ—¶é—´è¿è¡Œçš„æ“ä½œ

## å®‰è£…

```bash
npm install open-agent-sdk@alpha
```

æˆ–æŒ‡å®šåŒ…ç®¡ç†å™¨ï¼š

```bash
# npm
npm install open-agent-sdk@alpha

# yarn
yarn add open-agent-sdk@alpha

# pnpm
pnpm add open-agent-sdk@alpha

# bun
bun add open-agent-sdk@alpha
```

> **æ³¨æ„**ï¼šå½“å‰ä¸º alpha ç‰ˆæœ¬ã€‚ä½¿ç”¨ `@alpha` æ ‡ç­¾å®‰è£…æœ€æ–°çš„ alpha ç‰ˆæœ¬ã€‚

**ç¯å¢ƒè¦æ±‚ï¼š**
- Bun >= 1.0.0ï¼ˆä¸»è¦è¿è¡Œç¯å¢ƒï¼‰
- Node.js >= 20ï¼ˆéœ€å®‰è£… peer dependenciesï¼‰
- TypeScript >= 5.0

## å¿«é€Ÿå¼€å§‹

### åŸºç¡€ç”¨æ³•

```typescript
import { prompt } from 'open-agent-sdk';

const result = await prompt("å½“å‰ç›®å½•æœ‰å“ªäº›æ–‡ä»¶ï¼Ÿ", {
  model: 'your-model',
  apiKey: process.env.OPENAI_API_KEY,
});

console.log(result.result);
console.log(`è€—æ—¶: ${result.duration_ms}ms`);
console.log(`Token: ${result.usage.input_tokens} è¾“å…¥ / ${result.usage.output_tokens} è¾“å‡º`);
```

### åŸºäºä¼šè¯çš„å¯¹è¯

```typescript
import { createSession } from 'open-agent-sdk';

const session = createSession({
  model: 'your-model',
  apiKey: process.env.OPENAI_API_KEY,
});

// å‘é€æ¶ˆæ¯
await session.send("5 + 3 ç­‰äºå¤šå°‘ï¼Ÿ");

// æµå¼è·å–å“åº”
for await (const message of session.stream()) {
  if (message.type === 'assistant') {
    console.log(message.content);
  }
}

// ç»§ç»­å¯¹è¯ï¼ˆä¸Šä¸‹æ–‡ä¼šè¢«ä¿ç•™ï¼‰
await session.send("å°†ç»“æœä¹˜ä»¥ 2");
for await (const message of session.stream()) {
  console.log(message.content);
}

session.close();
```

## API å‚è€ƒ

æŸ¥çœ‹å®Œæ•´çš„ [API å‚è€ƒæ–‡æ¡£](./docs/api-reference.zh.md) äº†è§£ï¼š

- `prompt()` - ä½¿ç”¨ Agent æ‰§è¡Œå•è½®å¯¹è¯
- `createSession()` / `resumeSession()` - ç®¡ç†æŒä¹…åŒ–ä¼šè¯
- æ‰€æœ‰é…ç½®é€‰é¡¹å’Œç±»å‹å®šä¹‰

## æ–‡æ¡£

- [å†…ç½®å·¥å…·](./docs/api-reference.zh.md#å†…ç½®å·¥å…·) - æ–‡ä»¶æ“ä½œã€Shell æ‰§è¡Œã€ä»£ç æœç´¢ã€ç½‘é¡µè®¿é—®
- [ä¾›åº”å•†æ”¯æŒ](./docs/api-reference.zh.md#ä¾›åº”å•†) - OpenAIã€Google Geminiã€Anthropic
- [æƒé™ç³»ç»Ÿ](./docs/api-reference.zh.md#æƒé™) - æƒé™æ¨¡å¼å’Œç®¡ç†
- [Hooks](./docs/api-reference.zh.md#é’©å­) - äº‹ä»¶é©±åŠ¨çš„å¯æ‰©å±•æ€§

## æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Open Agent SDK                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   ç”¨æˆ·ä»£ç               æ ¸å¿ƒ SDK                       å¤–éƒ¨æœåŠ¡              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ prompt()â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Agent   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ OpenAI  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚  å¾ªç¯   â”‚                   â”‚ Google  â”‚            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚         â”‚                   â”‚Anthropicâ”‚            â”‚
â”‚  â”‚ Session â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ â”Œâ”€â”€â”€â”€â”€â” â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚ â”‚Toolsâ”‚ â”‚                                          â”‚
â”‚                        â”‚ â”‚(14) â”‚ â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚                        â”‚ â””â”€â”€â”€â”€â”€â”˜ â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  æ–‡ä»¶   â”‚            â”‚
â”‚                        â”‚ â”Œâ”€â”€â”€â”€â”€â” â”‚                   â”‚  ç¼–è¾‘   â”‚            â”‚
â”‚                        â”‚ â”‚Hooksâ”‚ â”‚                   â”‚ æœç´¢    â”‚            â”‚
â”‚                        â”‚ â”‚(10) â”‚ â”‚                   â”‚  ç½‘é¡µ   â”‚            â”‚
â”‚                        â”‚ â””â”€â”€â”€â”€â”€â”˜ â”‚                   â”‚ ä»»åŠ¡    â”‚            â”‚
â”‚                        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                             â”‚                                               â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚                        â”‚ Session â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚Storage  â”‚                      â”‚
â”‚                        â”‚ Manager â”‚         â”‚å†…å­˜/æ–‡ä»¶â”‚                      â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## é¡¹ç›®çŠ¶æ€

**å½“å‰ç‰ˆæœ¬ï¼š** v0.1.0-alpha.0

æœ¬é¡¹ç›®æ­£åœ¨å…¬å¼€å¼€å‘ä¸­ã€‚å…³æ³¨æˆ‘ä»¬çš„è¿›å±•ï¼š

- Twitter: [@octane0411](https://twitter.com/octane0411)
- è®¨è®ºåŒº: [GitHub Discussions](../../discussions)

### è·¯çº¿å›¾

| ç‰ˆæœ¬ | ç‰¹æ€§ | çŠ¶æ€ |
|---------|----------|--------|
| v0.1.0-alpha | æ ¸å¿ƒ Agent å¾ªç¯ã€14 ä¸ªå·¥å…·ã€3 ä¸ªä¾›åº”å•†ã€Sessionã€Hooksã€æƒé™ç³»ç»Ÿ | âœ… å·²å‘å¸ƒ |
| v0.1.0-beta | ç»“æ„åŒ–è¾“å‡ºã€æ–‡ä»¶æ£€æŸ¥ç‚¹ã€ä¼šè¯åˆ†å‰å¢å¼º | ğŸš§ å¼€å‘ä¸­ |
| v0.1.0 | ç¨³å®šç‰ˆæœ¬ | ğŸ“‹ è®¡åˆ’ä¸­ |
| v0.2.0 | æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€Skill ç³»ç»Ÿã€Query ç±» | ğŸ“‹ è®¡åˆ’ä¸­ |
| v1.0.0 | å®Œæ•´çš„ Claude Agent SDK å…¼å®¹ã€Python SDK | ğŸ“‹ è®¡åˆ’ä¸­ |

### æ€§èƒ½å¯¹æ¯”

æˆ‘ä»¬æ­£åœ¨å‡†å¤‡å…¨é¢çš„æ€§èƒ½å¯¹æ¯”æµ‹è¯•ï¼Œå¯¹æ¯” Open Agent SDK ä¸ Claude Agent SDK åœ¨å„ç§çœŸå®åœºæ™¯ä¸‹çš„è¡¨ç°ï¼š

- **ä»£ç ç†è§£** - åˆ†æå’Œè§£é‡Šå¤æ‚ä»£ç åº“
- **æ–‡ä»¶æ“ä½œ** - é«˜æ•ˆè¯»å–ã€å†™å…¥å’Œç¼–è¾‘æ–‡ä»¶
- **ä»»åŠ¡å®Œæˆ** - å¤šæ­¥éª¤ä»»åŠ¡æ‰§è¡Œå’Œæ¨ç†
- **å·¥å…·ä½¿ç”¨** - å†…ç½®å·¥å…·çš„ä½¿ç”¨æ•ˆç‡
- **æ€§èƒ½æŒ‡æ ‡** - å“åº”æ—¶é—´ã€Token ä½¿ç”¨é‡å’Œå‡†ç¡®æ€§

**çŠ¶æ€**ï¼šğŸ“‹ å³å°†å‘å¸ƒ

ç»“æœå°†å‘å¸ƒåœ¨ [`docs/benchmarks/`](./docs/benchmarks/) ç›®å½•ä¸­ï¼ŒåŒ…å«å®Œæ•´çš„æ–¹æ³•è®ºå’Œå¯å¤ç°çš„æµ‹è¯•ç”¨ä¾‹ã€‚

## å¼€å‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Octane0411/open-agent-sdk.git
cd open-agent-sdk

# å®‰è£…ä¾èµ–
bun install

# è¿è¡Œæµ‹è¯•
bun test

# è¦†ç›–ç‡æµ‹è¯•
bun test --coverage

# ç±»å‹æ£€æŸ¥
cd packages/core && npx tsc --noEmit

# è¿è¡Œæ¼”ç¤º
GEMINI_API_KEY=your-key bun examples/demo.ts
```

## ä¸ºä»€ä¹ˆæ„å»ºè¿™ä¸ªé¡¹ç›®ï¼Ÿ

Claude Agent SDK éå¸¸ä¼˜ç§€ï¼Œä½†æ˜¯é—­æºçš„ã€‚æˆ‘ä»¬æƒ³è¦ï¼š

1. **å®Œå…¨é€æ˜** â€”â€” ä»£ç å¼€æºï¼Œå¯è‡ªç”±å®šåˆ¶
2. **ä¾›åº”å•†ç‹¬ç«‹** â€”â€” ä¸è¢«å•ä¸€ä¾›åº”å•†é”å®š
3. **è½»é‡æ ¸å¿ƒ** â€”â€” ä¸“æ³¨ã€æ˜“ç†è§£çš„æ¶æ„
4. **ä¸ä¾èµ– Claude Code** â€”â€” çº¯ TypeScript å®ç°ï¼Œç‹¬ç«‹è¿è¡Œ

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ã€‚è¯·é˜…è¯» [CONTRIBUTING.md](./CONTRIBUTING.md)ã€‚

## è®¸å¯è¯

[MIT](./LICENSE) Â© 2026 Octane0411
